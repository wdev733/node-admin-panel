/*! pi1 - v1.0.0
Generated:  2017 - 01 - 27  */
var pihole=function(a,b,c){"use strict";var d=a.api=a.api||{};return d.data={get:function(a){return b.ajax({url:"/api/data",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"},method:"get",dataType:"json",data:a})}},d.list={get:function(a){return b.ajax({url:"/api/list",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"},method:"get",dataType:"json",data:{list:a}})},post:function(c,d){return b.ajax({url:"/api/list",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"},method:"post",dataType:"json",data:{domain:d,list:c,token:a.helper.getApiToken()}})},delete:function(c,d){return b.ajax({url:"/api/list",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"},method:"delete",dataType:"json",data:{domain:d,list:c,token:a.helper.getApiToken()}})}},a}(pihole||{},jQuery),pihole=function(a,b,c){"use strict";var d=a.taillog=a.taillog||{};const e=["dns"];var f,g={dns:[],error:[],open:[]},h=!1;const i=function(a,b){g[a].forEach(function(a){a(JSON.parse(b.data))})},j=function(a){h=!1,i("error",a)},k=function(a){i("dns",a)},l=function(a){},m=function(){h=!0,i("open")};return d.subscribe=function(a,b){return e.indexOf(a)>=0&&g[a].push(b),function(){d.unsubscribe(b)}},d.unsubscribe=function(a,b){if(e.indexOf(a)>=0){const c=g[a].indexOf(b);c!==-1&&g[a].splice(c,1)}},d.listen=function(){h||(h=!0,f=new EventSource("/api/taillog",{withcredentials:!0}),f.onerror=j,f.onmessage=l,f.addEventListener("dns",k,!1),f.onopen=m)},a}(pihole||{},jQuery),pihole=function(a,b,c){"use strict";var d,e=a.helper=a.helper||{};return e.getApiToken=function(){return d===c&&(d=b("#token").html()),d},e.timestampToFrameIdx=function(a,b){var c;c="date"==typeof a?a:new Date(a);const d=c.getHours(),e=c.getMinutes();return Math.floor((60*d+e)/b)},a}(pihole||{},jQuery);