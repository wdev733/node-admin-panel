/*! pi1 - v1.0.0 -  2017 - 01 - 24  */
function eventsource(){var ta=$("#output"),domain=$("#domain"),q=$("#quiet");if(0!==domain.val().length){var quiet=!1;"yes"===q.val()&&(quiet=!0,exact="exact");var host=window.location.host,source=new EventSource("http://"+host+"/admin/scripts/pi-hole/php/queryads.php?domain="+domain.val().toLowerCase()+"&"+exact);ta.empty(),ta.show(),source.addEventListener("message",function(e){if(quiet){for(var lines=e.data.split("\n"),i=0;i<lines.length;i++)if(lines[i].indexOf("results")!==-1&&lines[i].indexOf("0 results")===-1){var shortstring=lines[i].replace("::: /etc/pihole/","");shortstring=shortstring.replace(/\(.*/,""),ta.append(shortstring+"\n")}}else ta.append(e.data)},!1),source.addEventListener("error",function(e){source.close()},!1),exact=""}}var exact="";$(document).keypress(function(e){13===e.which&&$("#domain").is(":focus")&&(exact="",eventsource())}),$("#btnSearch").on("click",function(){exact="",eventsource()}),$("#btnSearchExact").on("click",function(){exact="exact",eventsource()});