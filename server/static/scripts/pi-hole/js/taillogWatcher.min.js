/*! pi1 - v1.0.0 -  2017 - 01 - 26  */
var taillogWatcher={};!function(a){const b=["dns"];var c,d={dns:[],error:[],open:[]},e=!1;const f=function(a,b){d[a].forEach(function(a){a(JSON.parse(b.data))})},g=function(a){f("error",a)},h=function(a){f("dns",a)},i=function(a){},j=function(){f("open")};a.on=function(c,e){return b.indexOf(c)>=0&&d[c].push(e),function(){a.off(e)}},a.off=function(a,c){if(b.indexOf(a)>=0){const e=d[a].indexOf(c);e!==-1&&delete d[a][e]}},a.listen=function(){e||(e=!0,c=new EventSource("/api/taillog",{withcredentials:!0}),c.onerror=g,c.onmessage=i,c.addEventListener("dns",h,!1),c.onopen=j)}}(taillogWatcher),taillogWatcher.listen();